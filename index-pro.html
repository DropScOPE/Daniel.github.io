<!doctype html>
<html lang="en" class="no-js" data-theme="dark">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta http-equiv="x-ua-compatible" content="ie=edge" />
  <title>Daniel's Digital Domain</title>
  <meta name="description" content="Sleek, minimal, red/black personal site â€” Home, Skills, Gaming." />
  <meta name="robots" content="index,follow" />
  <meta name="theme-color" media="(prefers-color-scheme: dark)" content="#000000" />
  <meta name="theme-color" media="(prefers-color-scheme: light)" content="#ffffff" />

  <link rel="icon" href="images/Tab.ico" />
  <link rel="preconnect" href="https://fonts.googleapis.com" />
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
  <link href="https://fonts.googleapis.com/css2?family=Fira+Code:wght@400;600;700&family=Poppins:wght@400;600;800&display=swap" rel="stylesheet" />

  <style>
    :root{
      --bg:#000;--bg2:#0f0f0f;--bg3:#171717;--text:#eaeaea;--muted:#b4b4b4;--edge:#2a2a2a;
      --red:#ff1a1a;--red-2:#ff3b3b;--red-d:#c40000;--ring: 0 0 0 2px rgba(255,0,0,.45);
      --radius:14px;--shadow:0 10px 30px rgba(0,0,0,.5);
    }
    [data-theme="light"]{ --bg:#ffffff;--bg2:#f5f5f5;--bg3:#ececec;--text:#0e0e0e;--muted:#4a4a4a;--edge:#d6d6d6;--red:#e00000;--red-2:#ff2e2e;--red-d:#b60000; }

    *{box-sizing:border-box}
    html{scroll-behavior:smooth}
    body{margin:0;background:radial-gradient(1200px 600px at 80% -10%,rgba(255,0,0,.06),transparent 60%),
                     radial-gradient(1000px 600px at -10% 10%,rgba(255,255,255,.04),transparent 60%),var(--bg);
         color:var(--text);font-family:Poppins,system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial;line-height:1.6;min-height:100dvh;}
    .sr-only{position:absolute!important;width:1px;height:1px;clip:rect(1px,1px,1px,1px);overflow:hidden}

    /* Loading */
    #loading{position:fixed;inset:0;display:grid;place-items:center;background:var(--bg);z-index:9999;transition:opacity .35s ease}
    #loading.hidden{opacity:0;pointer-events:none}
    .spinner{width:54px;height:54px;border-radius:50%;border:3px solid rgba(255,255,255,.12);border-top-color:var(--red);animation:spin .9s linear infinite}
    .loading__text{margin-top:10px;color:var(--muted);font-weight:600;letter-spacing:.4px}
    .loading__dots::after{content:"";animation:dots 1.1s infinite steps(4,end)}
    @keyframes spin{to{transform:rotate(360deg)}}
    @keyframes dots{0%{content:"."}33%{content:".."}66%{content:"..."}100%{content:""}}

    /* Starfield */
    #starfield{position:fixed;inset:0;z-index:-1;display:block}

    /* Nav */
    #main-nav{position:sticky;top:0;z-index:50;backdrop-filter:saturate(120%) blur(8px);
      background:color-mix(in oklab,var(--bg),transparent 45%);border-bottom:1px solid var(--edge)}
    .nav-wrap{max-width:1100px;margin:auto;padding:10px 16px;display:flex;gap:14px;align-items:center}
    .logo{font-weight:800;letter-spacing:.4px;background:linear-gradient(90deg,#fff,var(--red));-webkit-background-clip:text;background-clip:text;color:transparent}
    .spacer{flex:1}
    .nav-links{display:flex;gap:8px;align-items:center}
    .nav-links a{display:inline-flex;align-items:center;gap:8px;text-decoration:none;color:var(--muted);
      font-weight:700;padding:8px 12px;border-radius:999px;transition:background .18s ease,color .18s ease,transform .18s ease}
    .nav-links a:hover,.nav-links a[aria-current="page"]{color:var(--text);background:rgba(255,0,0,.12)}
    #themeToggle{border:1px solid var(--edge);background:var(--bg3);color:var(--text);padding:8px 12px;border-radius:12px;cursor:pointer}

    /* Sections */
    .section{padding:90px 16px}
    .center{max-width:1100px;margin:auto}

    /* Hero */
    .hero{min-height:66dvh;display:grid;place-items:center;text-align:center;gap:16px}
    .hero h1{font-size:clamp(34px,6vw,64px);margin:0;font-weight:800;letter-spacing:.3px;text-shadow:0 0 26px rgba(255,0,0,.18)}
    .hero p{margin:0;color:var(--muted)}
    .cta{display:flex;gap:10px;flex-wrap:wrap;justify-content:center;margin-top:10px}
    .btn{display:inline-flex;align-items:center;gap:10px;padding:12px 16px;border-radius:14px;border:1px solid var(--edge);
      background:var(--bg3);color:var(--text);text-decoration:none;font-weight:800;box-shadow:var(--shadow);transition:transform .15s ease,background .2s ease}
    .btn:hover{transform:translateY(-1px)}
    .btn.primary{background:linear-gradient(90deg,var(--red),var(--red-2));color:#080808;border:0}

    /* Card shell */
    .shell{background:linear-gradient(180deg,color-mix(in oklab,var(--bg2),#000 4%),color-mix(in oklab,var(--bg2),#000 14%));
      border:1px solid var(--edge);border-radius:var(--radius);padding:20px;box-shadow:var(--shadow)}

    /* Skills */
    .skills{display:grid;gap:12px}
    .skills .row{display:grid;grid-template-columns:120px 1fr;gap:12px;align-items:center}
    .skills .label{font-weight:700}
    .track{height:12px;background:rgba(255,255,255,.08);border-radius:999px;overflow:hidden;position:relative;border:1px solid var(--edge)}
    .fill{position:absolute;inset:0 auto 0 0;width:0%;background:linear-gradient(90deg,var(--red),#fff);border-radius:inherit;box-shadow:inset 0 0 0 1px rgba(255,255,255,.1)}
    .skills code{font-family:'Fira Code',monospace;color:var(--muted)}

    /* Gaming */
    .grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(230px,1fr));gap:14px}
    .card{display:block;text-decoration:none;color:inherit}
    .card .img{aspect-ratio:16/10;border-radius:var(--radius);overflow:hidden;border:1px solid var(--edge);background:#0c0c0c;position:relative}
    .card img{width:100%;height:100%;object-fit:cover;display:block;filter:saturate(.98) contrast(1.04)}
    .card .title{margin:.55rem 0 0;font-weight:800}
    .card .brand{color:var(--muted);font-size:.92rem}
    .card:hover .img::after{content:"Open";position:absolute;inset:auto 8px 8px auto;background:var(--bg3);border:1px solid var(--edge);padding:6px 10px;border-radius:999px;font:700 12px Poppins}

    /* Footer */
    footer{margin-top:40px;padding:26px 16px;border-top:1px solid var(--edge);color:var(--muted)}
    .footer-links{display:flex;gap:10px;flex-wrap:wrap}
    .footer-links a{color:var(--muted);text-decoration:none;border:1px solid var(--edge);padding:8px 12px;border-radius:12px}

    /* Scroll progress */
    [data-scroll-progress]{position:fixed;left:0;top:54px;height:2px;width:0;background:var(--red);box-shadow:0 0 6px rgba(255,0,0,.5);z-index:100}

    @media (max-width:768px){
      .skills .row{grid-template-columns:100px 1fr}
      [data-scroll-progress]{top:64px}
    }

    @media (prefers-reduced-motion:reduce){
      *{animation:none!important;transition:none!important}
      #loading{display:none!important}
    }
  </style>
</head>
<body>
  <a class="sr-only" href="#home">Skip to content</a>

  <div id="loading" role="status" aria-live="polite" aria-atomic="true">
    <div class="spinner" aria-hidden="true"></div>
    <div class="loading__text">Loading <span class="loading__dots"></span></div>
  </div>

  <canvas id="starfield" aria-hidden="true"></canvas>

  <nav id="main-nav" aria-label="Primary">
    <div class="nav-wrap">
      <div class="logo">Daniel's Domain</div>
      <div class="spacer"></div>
      <div class="nav-links">
        <a href="#home">Home</a>
        <a href="#skills">Skills</a>
        <a href="#gaming">Gaming</a>
        <button id="themeToggle" aria-pressed="false" title="Toggle theme">ðŸŒ™</button>
      </div>
    </div>
  </nav>

  <section id="home" class="section">
    <div class="center hero">
      <h1>Welcome to Daniel's Digital Domain</h1>
      <p>Minimal. Fast. Red/Black. Built for focus and flow.</p>
      <div class="cta">
        <a class="btn primary" href="#skills">View Skills</a>
        <a class="btn" href="#gaming">Gaming & Socials</a>
      </div>
    </div>
  </section>

  <section id="skills" class="section">
    <div class="center shell">
      <h2 style="margin:0 0 8px 0">Skillset</h2>
      <p style="margin:0 0 16px 0;color:var(--muted)">Bars animate when visible. Numbers count up. Clean and honest.</p>
      <div class="skills" id="skillsList">
        <div class="row" data-level="98"><div class="label">Python</div><div class="track"><span class="fill"></span></div><div style="grid-column:2/3"><code>98%</code></div></div>
        <div class="row" data-level="97"><div class="label">HTML</div><div class="track"><span class="fill"></span></div><div style="grid-column:2/3"><code>97%</code></div></div>
        <div class="row" data-level="95"><div class="label">CSS</div><div class="track"><span class="fill"></span></div><div style="grid-column:2/3"><code>95%</code></div></div>
        <div class="row" data-level="96"><div class="label">JavaScript</div><div class="track"><span class="fill"></span></div><div style="grid-column:2/3"><code>96%</code></div></div>
        <div class="row" data-level="92"><div class="label">C#</div><div class="track"><span class="fill"></span></div><div style="grid-column:2/3"><code>92%</code></div></div>
        <div class="row" data-level="65"><div class="label">Go</div><div class="track"><span class="fill"></span></div><div style="grid-column:2/3"><code>65%</code></div></div>
        <div class="row" data-level="62"><div class="label">Rust</div><div class="track"><span class="fill"></span></div><div style="grid-column:2/3"><code>62%</code></div></div>
        <div class="row" data-level="68"><div class="label">Kotlin</div><div class="track"><span class="fill"></span></div><div style="grid-column:2/3"><code>68%</code></div></div>
        <div class="row" data-level="45"><div class="label">Assembly</div><div class="track"><span class="fill"></span></div><div style="grid-column:2/3"><code>45%</code></div></div>
      </div>
    </div>
  </section>

  <section id="gaming" class="section">
    <div class="center shell">
      <h2 style="margin:0 0 8px 0">Gaming & Socials</h2>
      <p style="margin:0 0 16px 0;color:var(--muted)">Hover tilt, lazy images, and fast prefetch on hover.</p>
      <div class="grid">
        <a class="card" href="https://r6.tracker.network/r6siege/profile/ubi/DanielWitSwag/overview" target="_blank" rel="noopener noreferrer">
          <div class="img"><img loading="lazy" src="images/TrackerPFP.jpg" alt="R6 Tracker" /></div>
          <div class="title">R6 Tracker</div>
          <div class="brand">tracker.network</div>
        </a>
        <a class="card" href="https://x.com/DanielWitSwag" target="_blank" rel="noopener noreferrer">
          <div class="img"><img loading="lazy" src="images/TwitterPFP.jpg" alt="X / Twitter" /></div>
          <div class="title">X (Twitter)</div>
          <div class="brand">x.com</div>
        </a>
        <a class="card" href="https://discord.gg/aVapJsJu" target="_blank" rel="noopener noreferrer">
          <div class="img"><img loading="lazy" src="images/DiscordPFP.gif" alt="Discord" /></div>
          <div class="title">Discord</div>
          <div class="brand">discord.gg</div>
        </a>
        <a class="card" href="https://open.spotify.com/user/YOUR_SPOTIFY_USERNAME" target="_blank" rel="noopener noreferrer">
          <div class="img"><img loading="lazy" src="images/SpotifyPFP.jpg" alt="Spotify" /></div>
          <div class="title">Spotify</div>
          <div class="brand">open.spotify.com</div>
        </a>
      </div>
    </div>
  </section>

  <footer class="center">
    <div class="footer-links">
      <a href="https://r6.tracker.network/r6siege/profile/ubi/DanielWitSwag/overview" target="_blank" rel="noopener noreferrer">R6 Tracker</a>
      <a href="https://x.com/DanielWitSwag" target="_blank" rel="noopener noreferrer">X (Twitter)</a>
      <a href="https://discord.gg/aVapJsJu" target="_blank" rel="noopener noreferrer">Discord</a>
      <a href="https://open.spotify.com/user/YOUR_SPOTIFY_USERNAME" target="_blank" rel="noopener noreferrer">Spotify</a>
    </div>
    <p>Â© <span id="year"></span> DanielWitSwag Â· All rights reserved.</p>
  </footer>

  <script>
(()=>{'use strict';
  // ---------- tiny utils ----------
  const d=document,w=window,DPR=w.devicePixelRatio||1;
  const qs=(s,r=d)=>r.querySelector(s);
  const qsa=(s,r=d)=>Array.from(r.querySelectorAll(s));
  const raf=(fn)=>requestAnimationFrame(fn);
  const clamp=(n,a,b)=>Math.min(b,Math.max(a,n));
  const isRM=()=>matchMedia('(prefers-reduced-motion: reduce)').matches;

  // ---------- cache ----------
  const $loading=qs('#loading');
  const $star=qs('#starfield');
  const $nav=qs('#main-nav');
  const $year=qs('#year')||qs('#current-year');
  const $home=qs('#home'), $homeH1=qs('#home h1'), $homeP=qs('#home p');
  const $skills=qs('#skills');
  const $gaming=qs('#gaming');

  // ---------- mobile 100vh fix ----------
  const setVh = ()=>{
    const vh = Math.max(1, w.innerHeight * 0.01);
    d.documentElement.style.setProperty('--vh', `${vh}px`);
  };
  setVh();
  addEventListener('resize', ()=>{ clearTimeout(setVh._t); setVh._t=setTimeout(setVh, 120); });

  // ---------- theme ----------
  const Theme=(()=>{
    const KEY='dd-theme';
    const mql=matchMedia('(prefers-color-scheme: light)');
    const get=()=>localStorage.getItem(KEY);
    const apply=(m)=>d.documentElement.setAttribute('data-theme', m);
    const set=(m)=>{ apply(m); localStorage.setItem(KEY, m); };
    const init=()=> apply(get() || (mql.matches?'light':'dark'));
    const bind=()=>{
      const btn=qs('#themeToggle');
      const icon=()=> d.documentElement.getAttribute('data-theme')==='light' ? 'ðŸŒž' : 'ðŸŒ™';
      if(btn){
        btn.textContent = icon();
        btn.setAttribute('aria-pressed', d.documentElement.getAttribute('data-theme')!=='light');
        btn.addEventListener('click', ()=>{
          const next=d.documentElement.getAttribute('data-theme')==='light'?'dark':'light';
          set(next); btn.textContent=icon(); btn.setAttribute('aria-pressed', next!=='light');
        });
      }
      mql.addEventListener('change', e=>{ if(!get()) apply(e.matches?'light':'dark'); if(btn) btn.textContent=icon(); });
      // quick keyboard toggle
      d.addEventListener('keydown', e=>{
        if(e.metaKey||e.ctrlKey||e.altKey) return; if(e.key.toLowerCase()!=='t') return; e.preventDefault();
        const next=d.documentElement.getAttribute('data-theme')==='light'?'dark':'light'; set(next); if(btn){ btn.textContent=icon(); btn.setAttribute('aria-pressed', next!=='light'); }
      });
    };
    return { init, bind };
  })();

  // ---------- loading ----------
  const Loading=(()=>{
    const hide=()=>{ if(!$loading) return; $loading.classList.add('hidden'); $loading.setAttribute('aria-hidden','true'); };
    const ready=()=> isRM() ? hide() : setTimeout(hide, 320);
    return { ready };
  })();

  // ---------- scroll progress ----------
  (function mountProgress(){
    if(qs('[data-scroll-progress]')) return;
    const bar=d.createElement('div'); bar.setAttribute('data-scroll-progress',''); d.body.appendChild(bar);
    const place=()=>{ bar.style.top=(($nav?$nav.offsetHeight:54))+'px'; };
    const upd=()=>{ const max=d.documentElement.scrollHeight - innerHeight; bar.style.width=(max>0?(scrollY/max)*100:0)+'%'; };
    place(); upd();
    addEventListener('resize', ()=>{ place(); upd(); });
    addEventListener('scroll', upd, { passive:true });
  })();

  // ---------- router + spy + reveal ----------
  const Router=(()=>{
    const links=qsa('nav a[href^="#"], [data-link]');
    const sections=links.map(a=>qs(a.getAttribute('href'))).filter(Boolean);
    const smoothTo=(id)=>{ const el=typeof id==='string'?qs(id):id; el&&el.scrollIntoView({ behavior:'smooth', block:'start' }); };

    // anchor clicks
    d.addEventListener('click', e=>{
      const a=e.target.closest('a[href^="#"]'); if(!a) return;
      const id=a.getAttribute('href'); const el=qs(id); if(!el) return;
      e.preventDefault(); smoothTo(id); history.replaceState(null,'',id);
    });

    // scroll spy
    const spy = ('IntersectionObserver' in w) ? new IntersectionObserver((es)=>{
      es.forEach(e=>{
        if(!e.isIntersecting) return; links.forEach(l=>l.removeAttribute('aria-current'));
        const id='#'+e.target.id; const a=links.find(l=>l.getAttribute('href')===id); a&&a.setAttribute('aria-current','page');
      });
    },{ rootMargin:'-45% 0px -50% 0px', threshold:.01 }) : null;

    // reveal-on-scroll
    const rev = ('IntersectionObserver' in w) ? new IntersectionObserver((es)=>{
      es.forEach(e=>{ if(e.isIntersecting) e.target.classList.add('is-visible'); });
    },{ rootMargin:'-12% 0px', threshold:.08 }) : null;

    sections.forEach(s=>{ spy&&spy.observe(s); rev&&rev.observe(s); });

    const onHash=()=>{ if(location.hash && qs(location.hash)) setTimeout(()=>smoothTo(location.hash),10); };
    onHash(); addEventListener('hashchange', onHash);

    return { smoothTo };
  })();

  // ---------- starfield (paused on hidden / reduced motion) ----------
  const Starfield=(()=>{
    if(!$star) return { start:()=>{}, stop:()=>{} };
    const ctx=$star.getContext('2d', { alpha:true });
    let W=0,H=0,last=0,stars=[],running=false;
    const SPEED=.18;
    const resize=()=>{
      W=Math.max(1, Math.floor(innerWidth*DPR));
      H=Math.max(1, Math.floor(innerHeight*DPR));
      $star.width=W; $star.height=H; $star.style.width=W/DPR+'px'; $star.style.height=H/DPR+'px';
      const count=clamp(Math.floor((W/DPR)*(H/DPR)/9000), 90, 220);
      stars=new Array(count).fill(0).map(()=>({ x:Math.random()*W, y:Math.random()*H, z:Math.random()*.8+.2, s:Math.random()*1.5+.2 }));
    };
    const draw=(now)=>{
      if(!running) return; const dt=Math.min(34, now-(last||now)); last=now;
      ctx.clearRect(0,0,W,H);
      for(let i=0;i<stars.length;i++){
        const st=stars[i]; st.x+=st.z*SPEED*dt*DPR; if(st.x>W){ st.x=0; st.y=Math.random()*H; }
        ctx.fillStyle=`rgba(255,255,255,${.4+st.z*.6})`; ctx.fillRect(st.x, st.y, st.s*DPR, st.s*DPR);
      }
      raf(draw);
    };
    const start=()=>{ if(isRM()) return; resize(); running=true; raf(draw); };
    const stop = ()=>{ running=false; };
    addEventListener('resize', ()=>{ clearTimeout(Starfield._t); Starfield._t=setTimeout(resize, 120); });
    d.addEventListener('visibilitychange', ()=>{ if(d.hidden) stop(); else start(); });
    matchMedia('(prefers-reduced-motion: reduce)').addEventListener('change', e=>{ if(e.matches) stop(); else start(); });
    return { start, stop };
  })();

  // ---------- home: type, parallax, shortcuts, back-to-top ----------
  const Home=(()=>{
    const type=(el,txt,delay=22)=>{ if(!el||!txt||isRM()) return; el.textContent=''; let i=0; (function step(){ if(i>=txt.length) return; el.textContent+=txt.charAt(i++); setTimeout(step, delay); })(); };
    const runType=()=>{ if(!$homeH1||!$homeP||isRM()) return; const h=$homeH1.textContent.trim(), p=$homeP.textContent.trim(); type($homeH1,h,26); setTimeout(()=>type($homeP,p,18), Math.min(1200, 20*h.length)); };
    let tick=false; const parallax=(e)=>{ if(isRM()) return; if(tick) return; tick=true; raf(()=>{ const x=e.clientX/innerWidth-.5, y=e.clientY/innerHeight-.5; const tx=x*8, ty=y*6; if($homeH1) $homeH1.style.transform=`translate3d(${tx}px,${ty}px,0)`; if($homeP) $homeP.style.transform=`translate3d(${tx/2}px,${ty/2}px,0)`; tick=false; }); };
    const topBtn=(()=>{ let btn; const mount=()=>{ if(qs('[data-backtop]')) return; btn=d.createElement('button'); btn.setAttribute('data-backtop',''); btn.setAttribute('title','Back to top (H)'); btn.textContent='â†‘'; Object.assign(btn.style,{ position:'fixed', right:'16px', bottom:'16px', zIndex:'999', width:'44px', height:'44px', borderRadius:'999px', background:'var(--bg3)', color:'var(--text)', border:'1px solid var(--edge)', cursor:'pointer', opacity:'0', transform:'translateY(10px)', transition:'opacity .2s ease, transform .2s ease' }); btn.addEventListener('click', ()=>Router.smoothTo('#home')); d.body.appendChild(btn); addEventListener('scroll', ()=>{ const show=scrollY>innerHeight*.75; btn.style.opacity=show?'1':'0'; btn.style.transform=show?'translateY(0)':'translateY(10px)'; }, { passive:true }); }; return { mount }; })();
    const keys=()=>{ d.addEventListener('keydown', e=>{ if(e.metaKey||e.ctrlKey||e.altKey) return; const k=e.key.toLowerCase(); if(k==='h'){ e.preventDefault(); Router.smoothTo('#home'); } if(k==='s'){ e.preventDefault(); Router.smoothTo('#skills'); } if(k==='g'){ e.preventDefault(); Router.smoothTo('#gaming'); } }); };
    const init=()=>{ runType(); addEventListener('pointermove', parallax); topBtn.mount(); keys(); };
    return { init };
  })();

  // ---------- skills: animate bars & count ----------
  const Skills=(()=>{
    if(!$skills) return { init:()=>{} };
    const rows=qsa('.row', $skills);
    const getLvl=r=>clamp(Number(r.dataset.level||0),0,100);
    const inc=(el,to,ms=650)=>{ if(!el) return; const from=Number(el.textContent.replace('%',''))||0; const st=performance.now(); (function step(t){ const k=clamp((t-st)/ms,0,1); el.textContent=Math.round(from+(to-from)*k)+'%'; if(k<1) raf(step); })(st); };
    const io=('IntersectionObserver' in w)? new IntersectionObserver((es,obs)=>{
      es.forEach(({isIntersecting,target})=>{
        if(!isIntersecting) return; const lvl=getLvl(target); const bar=target.querySelector('.fill'); const code=target.querySelector('code');
        if(bar){ bar.style.transition='width 900ms cubic-bezier(.2,.9,.2,1)'; bar.style.width=lvl+'%'; }
        if(code) inc(code,lvl,750);
        target.setAttribute('aria-valuenow', String(lvl));
        obs.unobserve(target);
      });
    },{ threshold:.35 }) : null;
    const init=()=> rows.forEach(r=> io?io.observe(r): (r.querySelector('.fill').style.width=getLvl(r)+'%'));
    return { init };
  })();

  // ---------- gaming: lazy decode, tilt, prefetch ----------
  const Gaming=(()=>{
    if(!$gaming) return { init:()=>{} };
    const tiles=qsa('.card', $gaming);
    const imgs=qsa('img[loading="lazy"]', $gaming);
    const lqIO=('IntersectionObserver' in w)? new IntersectionObserver((es,obs)=>{
      es.forEach(({isIntersecting,target})=>{ if(!isIntersecting) return; target.decode?.().catch(()=>null).finally(()=>target.classList.add('is-loaded')); obs.unobserve(target); });
    },{ rootMargin:'200px 0px', threshold:.01 }) : null;
    const tilt=(el)=>{ if(isRM()) return; let id=0; const move=(e)=>{ cancelAnimationFrame(id); id=raf(()=>{ const r=el.getBoundingClientRect(); const x=(e.clientX-r.left)/r.width-.5; const y=(e.clientY-r.top)/r.height-.5; const rx=clamp(-y*8,-8,8), ry=clamp(x*12,-12,12); el.querySelector('.img').style.transform=`perspective(900px) rotateX(${rx}deg) rotateY(${ry}deg)`; }); }; const reset=()=>{ el.querySelector('.img').style.transform='perspective(900px) rotateX(0) rotateY(0)'; }; el.addEventListener('pointermove', move); el.addEventListener('pointerleave', reset); el.addEventListener('blur', reset); };
    const prefetch=(a)=>{ const href=a.getAttribute('href'); if(!href||href.startsWith('#')) return; let hinted=false; const hint=()=>{ if(hinted) return; hinted=true; const l=d.createElement('link'); l.rel='prefetch'; l.href=href; d.head.appendChild(l); }; a.addEventListener('pointerenter', hint, { passive:true }); a.addEventListener('focus', hint, { passive:true }); };
    const init=()=>{ imgs.forEach(i=> lqIO?lqIO.observe(i):i); tiles.forEach(tilt); tiles.forEach(prefetch); };
    return { init };
  })();

  // ---------- boot ----------
  d.documentElement.classList.remove('no-js');
  Theme.init(); Theme.bind();
  addEventListener('load', Loading.ready);
  Starfield.start();
  Home.init();
  Skills.init();
  Gaming.init();

  // current year
  if($year) $year.textContent=new Date().getFullYear();
})();
</script>
</body>
</html>
