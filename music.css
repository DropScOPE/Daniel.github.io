/* ===== Vinyl + HUD â€” minimal red/black glass ===== */
:root{
  --vinyl-size: 68px;
  --vinyl-pad : 7px;
  --vinyl-ring: 6px;      /* progress thickness */
  --p: 0deg;              /* JS updates this for progress ring */
}

/* Floating vinyl */
.vinyl{
  position: fixed;
  right: 16px;
  bottom: 16px;
  z-index: 900;
  width: var(--vinyl-size);
  height: var(--vinyl-size);
  border-radius: 999px;
  border: 1px solid rgba(255,255,255,.08);
  background: linear-gradient(180deg, #131313, #0a0a0a);
  display: grid;
  place-items: center;
  cursor: pointer;
  transition: transform .18s ease, box-shadow .18s ease, background .18s ease, border-color .18s ease;
  box-shadow: 0 10px 30px rgba(0,0,0,.45);
  user-select: none;
  outline: none;
}

/* Progress ring with conic-gradient */
.vinyl::before{
  content:"";
  position:absolute;
  inset: -2px;
  border-radius: 999px;
  background:
    conic-gradient(#ff1a1a var(--p), rgba(255,255,255,.08) 0),
    radial-gradient(circle at 50% 50%, rgba(255,0,0,.12), transparent 55%);
  -webkit-mask:
    radial-gradient(circle calc(50% - var(--vinyl-ring)) at 50% 50%, transparent 98%, #000 100%);
          mask:
    radial-gradient(circle calc(50% - var(--vinyl-ring)) at 50% 50%, transparent 98%, #000 100%);
  filter: drop-shadow(0 0 10px rgba(255,0,0,.14));
}

/* Inner disc */
.vinyl img{
  width: calc(var(--vinyl-size) - var(--vinyl-pad)*2);
  height: calc(var(--vinyl-size) - var(--vinyl-pad)*2);
  display: block;
  pointer-events: none;
  filter: drop-shadow(0 0 10px rgba(255,0,0,.18));
  transform-origin: 50% 50%;
  animation: vinyl-spin 3.6s linear infinite;
  animation-play-state: paused;
  border-radius: 50%;
}

.vinyl:hover{
  transform: translateY(-1px);
  border-color: rgba(255,0,0,.45);
  box-shadow: 0 12px 36px rgba(255,0,0,.18), 0 10px 30px rgba(0,0,0,.5);
}
.vinyl:focus-visible{ outline: 2px solid rgba(255,0,0,.6) }
.vinyl.is-playing img{ animation-play-state: running; }

@keyframes vinyl-spin{ to{ transform: rotate(360deg) } }

@media (max-width: 480px){
  :root { --vinyl-size: 60px; }
  .vinyl{ right: 12px; bottom: 12px; }
}

/* ===== HUD ===== */
.music-hud{
  position: fixed;
  right: calc(16px + var(--vinyl-size) + 12px);
  bottom: 16px;
  width: clamp(240px, 35vw, 360px);
  backdrop-filter: blur(8px) saturate(120%);
  -webkit-backdrop-filter: blur(8px) saturate(120%);
  background: color-mix(in oklab, #0a0a0a, black 10%);
  border: 1px solid rgba(255,255,255,.08);
  border-radius: 14px;
  padding: 10px 12px;
  color: #e9e9e9;
  box-shadow: 0 10px 30px rgba(0,0,0,.45), inset 0 0 0 1px rgba(255,0,0,.10);
  display: grid;
  gap: 8px;
  opacity: 0;
  transform: translateY(8px);
  pointer-events: none;
  transition: opacity .18s ease, transform .18s ease;
}

.music-hud.is-open{
  opacity: 1;
  transform: translateY(0);
  pointer-events: auto;
}

.hud-row{
  display:flex; align-items:center; gap:10px;
  font-size: 13px; color:#cfcfcf;
}
.hud-title{ font-weight:700; color:#fff; letter-spacing:.2px }

.hud-seek, .hud-vol{
  -webkit-appearance: none; appearance: none;
  flex:1; height: 6px; border-radius: 999px;
  background: rgba(255,255,255,.10);
  outline: none; border: 1px solid rgba(255,255,255,.08);
}
.hud-vol{ max-width: 140px; }

.hud-seek::-webkit-slider-thumb,
.hud-vol::-webkit-slider-thumb{
  -webkit-appearance: none; appearance: none;
  width: 16px; height: 16px; border-radius: 50%;
  background: #ff1a1a; border: 0; cursor: pointer;
  box-shadow: 0 0 10px rgba(255,26,26,.35);
}
.hud-seek::-moz-range-thumb,
.hud-vol::-moz-range-thumb{
  width: 16px; height: 16px; border: 0; border-radius: 50%;
  background: #ff1a1a; cursor: pointer;
}

/* quick helper when user hovers vinyl or HUD */
.vinyl:hover + .music-hud,
.vinyl:focus + .music-hud,
.music-hud:hover{ opacity:1; transform:translateY(0); pointer-events:auto; }

/* small labels */
#hudTime{ font-variant-numeric: tabular-nums; color:#bbb }
